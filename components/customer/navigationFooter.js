import { useRouter } from "next/router";
import React from "react";

function NavigationFooter({ currentUser }) {
	const router = useRouter();
	function logout() {
		fetch("/api/logout")
			.then((res) => res.json())
			.then((data) => {
				console.log("data is:", data);
				localStorage.clear();
				router.push("/signIn");
			});
	}
	return (
		<div className="fixed bottom-0 flex flex-row justify-around w-full bg-green-500 h-[10vh] md:w-1/4">
			<div
				className="h-full pt-3 pb-8 text-center cursor-pointer w-fit"
				onClick={() => router.push("/customer/")}
			>
				<a>
					<svg
						className="w-full h-full"
						viewBox="0 0 42 41"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M40.7486 20.1775L21.8431 1.28573C21.7069 1.14934 21.5453 1.04113 21.3673 0.967301C21.1893 0.893471 20.9985 0.855469 20.8058 0.855469C20.6131 0.855469 20.4223 0.893471 20.2443 0.967301C20.0663 1.04113 19.9046 1.14934 19.7685 1.28573L0.862891 20.1775C0.312109 20.7283 0 21.4765 0 22.2567C0 23.8769 1.31729 25.1942 2.9375 25.1942H4.92949V38.6746C4.92949 39.487 5.58584 40.1433 6.39824 40.1433H17.8683V29.8621H23.0089V40.1433H35.2133C36.0257 40.1433 36.682 39.487 36.682 38.6746V25.1942H38.674C39.4543 25.1942 40.2024 24.8867 40.7532 24.3313C41.8961 23.1839 41.8961 21.325 40.7486 20.1775Z"
							fill="white"
						/>
					</svg>
				</a>
				<span className="text-sm text-white font-nunito">Home</span>
			</div>

			<span className="self-center max-w-[20%] text-sm text-white font-nunito text-center">
				Welcome, {currentUser.firstName}
			</span>
			<div
				className="h-full pt-3 pb-8 text-center cursor-pointer w-fit"
				onClick={() => logout()}
			>
				<a>
					<svg
						className="w-full h-full"
						viewBox="0 0 38 39"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							d="M26.6486 28.7625C26.2523 28.2931 26.0541 27.7601 26.0541 27.1635C26.0541 26.5684 26.2523 26.0722 26.6486 25.675L30.6486 21.6667H15.1351C14.5225 21.6667 14.0094 21.4587 13.5957 21.0427C13.1805 20.6281 12.973 20.1139 12.973 19.5C12.973 18.8861 13.1805 18.3712 13.5957 17.9552C14.0094 17.5406 14.5225 17.3333 15.1351 17.3333H30.6486L26.6486 13.325C26.2162 12.8917 26 12.3774 26 11.7823C26 11.1858 26.2162 10.6708 26.6486 10.2375C27.045 9.80417 27.5409 9.5875 28.1362 9.5875C28.7301 9.5875 29.2252 9.78611 29.6216 10.1833L37.4054 17.9833C37.6216 18.2 37.7751 18.4347 37.8659 18.6875C37.9553 18.9403 38 19.2111 38 19.5C38 19.7889 37.9553 20.0597 37.8659 20.3125C37.7751 20.5653 37.6216 20.8 37.4054 21.0167L29.6216 28.8167C29.1532 29.2861 28.64 29.4934 28.0822 29.4385C27.5229 29.3851 27.045 29.1597 26.6486 28.7625ZM4.32432 39C3.13513 39 2.11676 38.5761 1.26919 37.7282C0.423063 36.8788 0 35.8583 0 34.6667V4.33333C0 3.14167 0.423063 2.12117 1.26919 1.27183C2.11676 0.423944 3.13513 0 4.32432 0H17.2973C17.9099 0 18.4238 0.207278 18.8389 0.621833C19.2526 1.03783 19.4595 1.55278 19.4595 2.16667C19.4595 2.78056 19.2526 3.29478 18.8389 3.70933C18.4238 4.12533 17.9099 4.33333 17.2973 4.33333H4.32432V34.6667H17.2973C17.9099 34.6667 18.4238 34.8747 18.8389 35.2907C19.2526 35.7052 19.4595 36.2194 19.4595 36.8333C19.4595 37.4472 19.2526 37.9614 18.8389 38.376C18.4238 38.792 17.9099 39 17.2973 39H4.32432Z"
							fill="white"
						/>
					</svg>
				</a>
				<span className="text-sm text-white font-nunito">Logout</span>
			</div>
		</div>
	);
}

export default NavigationFooter;
